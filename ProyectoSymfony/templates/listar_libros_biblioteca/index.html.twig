{% extends 'base.html.twig' %}

{% block title %}Listar Libros de la Biblioteca{% endblock %}

{% block body %}
    <form action="{{ path('listar_libros_biblioteca') }}" method="get">
        <label for="biblioteca">Biblioteca:</label>
        <select id="biblioteca" name="biblioteca">
            {% for biblioteca in bibliotecas %}
                <option value="{{ biblioteca.id }}" {% if biblioteca and biblioteca.id == biblioteca.id %}selected{% endif %}>
                    {{ biblioteca.nombre }}
                </option>
            {% endfor %}
            
        </select>
        <button type="submit">Buscar</button>
    </form>





    {% if biblioteca %}
        <h1>Listar Libros de la {{ biblioteca.nombre }}</h1>
        <ul>
            {% for libro in libros %}
                <li>
                    <h2>{{ libro.titulo }}</h2>
                    <p>{{ libro.autor }}</p>
                    <form action="{{ path('borrar_libro', {'id': libro.id}) }}" method="post">
                        <input type="hidden" name="biblioteca_id" value="{{ biblioteca.id }}">
                        <button type="submit" class="btn btn-danger">Borrar</button>
                    </form>
                </li>
            {% else %}
                <li>No hay libros disponibles.</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}
