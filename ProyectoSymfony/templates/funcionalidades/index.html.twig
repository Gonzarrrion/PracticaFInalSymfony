{% extends 'base.html.twig' %}

{% block title %}Funcionalidades{% endblock %}

{% block body %}
<div class="container">
    <h1>Funcionalidades</h1>
    {% for message in app.flashes('success') %}
        <div class="alert alert-success">{{ message }}</div>
    {% endfor %}
    <div>
        <a href="{{ path('anadir_nuevo_libro') }}" class="btn btn-success">Añadir nuevo Libro</a>
        <a href="{{ path('insertar_biblioteca') }}" class="btn btn-success">Añadir nueva Biblioteca</a>
    </div>

    <h2>Editar Libro</h2>
    <form class="form" id="editarLibroForm" onsubmit="event.preventDefault(); editar('libro');">
        <label class="labels" for="libroId">ID del libro:</label>
        <input class="inputs" type="number" id="libroId" name="id" placeholder="ID del libro" required min="1">
        <button type="submit" class="btn btn-primary">Editar</button>
    </form>

    <h2>Editar Biblioteca</h2>
    <form class="form" id="editarBibliotecaForm" onsubmit="event.preventDefault(); editar('biblioteca');">
        <label class="labels" for="bibliotecaId">ID de la biblioteca:</label>
        <input class="inputs" type="number" id="bibliotecaId" name="id" placeholder="ID de la biblioteca" required min="1">
        <button type="submit" class="btn btn-primary">Editar</button>
    </form>
</div>
<script>
function editar(tipo) {
    var id = document.getElementById(tipo + 'Id').value;
    if (id <= 0 || isNaN(id)) {
        alert('Por favor, introduce un número entero positivo.');
        return;
    }
    window.location.href = '/editar/' + tipo + '/' + id;
}
</script>
{% endblock %}
