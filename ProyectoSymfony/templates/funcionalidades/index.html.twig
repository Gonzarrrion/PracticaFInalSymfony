{% extends 'base.html.twig' %}

{% block title %}Funcionalidades{% endblock %}

{% block body %}
<h1>Funcionalidades</h1>

<div>
    <a href="{{ path('anadir_nuevo_libro') }}" class="btn btn-success">Añadir nuevo Libro</a>
    <a href="{{ path('insertar_biblioteca') }}" class="btn btn-success">Añadir nueva Biblioteca</a>
</div>




<h2>Editar Libro</h2>
<form action="{{ path('editar_libro', {'id': 'placeholder'}) }}" method="GET" onsubmit="return setAction(this, 'libro')">
    <label for="libroId">ID del Libro:</label>
    <input type="text" id="libroId" name="id" required>
    <button type="submit" class="btn btn-primary">Editar Libro</button>
</form>



<h2>Editar Biblioteca</h2>
<form action="{{ path('editar_biblioteca', {'id': 'placeholder'}) }}" method="GET" onsubmit="return setAction(this, 'biblioteca')">
    <label for="bibliotecaId">ID de la Biblioteca:</label>
    <input type="text" id="bibliotecaId" name="id" required>
    <button type="submit" class="btn btn-primary">Editar Biblioteca</button>
</form>



{# para añadir el id que se buscara #}
<script>
function setAction(form, type) {
    const id = form.querySelector('input[name="id"]').value;
    form.action = form.action.replace('placeholder', id);
    return true;
}
</script>

{% endblock %}
